<!doctype html>
<html lang="en" class="no-js">
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> 
  <script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script> 
  <script type="text/javascript">
					function OptanonWrapper() { }
				</script> 
  <script>var offline=false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-K8K24X8');}</script> 
  <link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet"> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Unity - Manual: Membangun plug-in untuk iOS</title> 
  <meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg"> 
  <meta name="author" content="Unity Technologies"> 
  <link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico"> 
  <link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png"> 
  <link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png"> 
  <meta name="msapplication-TileColor" content="#222c37"> 
  <meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png"> 
  <script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script> 
  <script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20220404"></script> 
  <script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20220404"></script> 
  <script type="text/javascript" src="docdata/toc.js?ts=20220404"></script> 
  <script type="text/javascript" src="docdata/global_toc.js?ts=20220404"></script> 
  <link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20220404"> 
  <link rel="stylesheet" href="../StaticFilesManual/css/prism.css"> 
  <script src="../StaticFilesManual/js/prism.js"></script> 
  <script src="/StaticFilesConfig/feedback/feedback.js"></script> 
  <script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script> 
  <link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css"> 
  <script src="../StaticFilesManual/js/mobileoptimisation.js"></script> 
 </head> 
 <body> 
  <noscript> 
   <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8K24X8" height="0" width="0" style="display:none;visibility:hidden"></iframe> 
  </noscript> 
  <div id="DocsAnalyticsData" data-area="platforms" data-pagetype="manual"></div> 
  <div class="header-wrapper"> 
   <div id="header" class="header"> 
    <div class="content"> 
     <div class="spacer"> 
      <div class="menu"> 
       <div id="nav-open" for="nav-input"> 
        <span></span> 
       </div> 
       <div class="logo"></div> 
       <div class="search-form"> 
        <form action="30_search.html" method="get" class="apisearch"> 
         <input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"> 
         <input type="submit" class="submit"> 
        </form> 
       </div> 
       <ul> 
        <li><a href="../Manual/index.html" class="selected">Manual</a></li> 
        <li><a href="../ScriptReference/index.html">API documentation</a></li> 
       </ul> 
      </div> 
     </div> 
     <div class="more"> 
      <div class="filler"></div> 
      <ul> 
       <li></li> 
      </ul> 
     </div> 
    </div> 
   </div> 
   <div class="toolbar"> 
    <div class="content"> 
    </div> 
   </div> 
   <div class="mobileLogo"></div> 
  </div> 
  <div id="master-wrapper" class="master-wrapper clear"> 
   <div id="sidebar" class="sidebar"> 
    <div class="sidebar-wrap"> 
     <div class="content"> 
      <div class="sidebar-menu"> 
       <div class="toc" id="customScrollbar"> 
        <h2>Manual Unity</h2> 
        <div class="search-form sidebar-search-form"> 
         <form action="30_search.html" method="get" class="apisearch"> 
          <input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"> 
          <input type="submit" id="mobileSearchBtn" class="submit" value="Search"> 
         </form> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div id="content-wrap" class="content-wrap"> 
    <div class="content-block"> 
     <div class="content"> 
      <div class="section"> 
       <div class="breadcrumbs clear"> 
        <ul> 
         <li><a href="UnityManual.html">Manual Pengguna Unity 2022.1 (beta)</a></li> 
         <li><a href="PlatformSpecific.html">Pengembangan platform</a></li> 
         <li><a href="iphone.html">iOS</a></li> 
         <li>Login Topik Lanjutan</li> 
         <li>Membangun plug-in untuk iOS</li> 
        </ul> 
       </div> 
       <div class="mb20"> 
        <div class="nextprev clear"> 
         <div class="icon tt left mr1" data-distance="-40|-30|top"> 
          <span class="prev"><a href="iphone-Optimizing-Physics.html"></a></span> 
          <div class="tip">
            Mengoptimalkan Fisika Sitemap 
          </div> 
         </div> 
         <div class="icon tt right" data-distance="-40|-30|top"> 
          <span class="next"><a href="iphone-Downloadable-Content.html"></a></span> 
          <div class="tip">
            Mempersiapkan aplikasi Anda untuk Pembelian In-App (IAP) 
          </div> 
         </div> 
        </div> 
       </div> 
       <div id="_leavefeedback"></div> 
       <h1>Membangun plug-in untuk iOS</h1> 
       <!--BeginSwitchLink--> 
       <!--EndSwitchLink--> 
       <div class="clear"></div> 
       <p>Halaman ini menjelaskan cara membangun <a href="Plugins.html">plug-in kode asli</a> untuk platform iOS.</p> 
       <h2>Membangun aplikasi dengan plug-in asli untuk iOS</h2> 
       <p>Untuk membangun aplikasi dengan <span class="tooltip"><strong>plug-in</strong><span class="tooltiptext">Satu set kode yang dibuat di luar Unity yang menciptakan fungsi dalam Unity. Ada dua jenis plug-ins yang dapat Anda gunakan di Unity: Managed plug-ins (diproduksi. Rakitan NET dibuat dengan alat-alat seperti Studio Visual) dan plug-ins asli (pustaka kode asli yang spesifik platform). <a class="tooltipMoreInfoLink" href="Plugins.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#Plug-in">Glossary</a></span></span></span> asli untuk iOS, ikuti langkah-langkah ini:</p> 
       <ol> 
        <li> <p>Untuk setiap fungsi asli yang ingin Anda sebut, tentukan metode extern dalam file C# sebagai berikut:</p> <pre><code class="csharp">[DllImport ("__Internal")] 
    
private static extern float FooPluginFunction();
</code></pre> </li> 
        <li><p>Tambahkan file sumber kode asli Anda ke Proyek Unity.</p></li> 
        <li><p>Sesuaikan pengaturan plug-in di jendela Plugin Inspector. Misalnya, jika kode asli Anda spesifik iOS, pastikan plug-in hanya diaktifkan untuk iOS.<br><br> </p></li> 
       </ol> 
       <p>Sitemap Jika Anda menggunakan C++ (.cpp) atau Objective-C++ (.mm) untuk menerapkan plug-in, Anda harus menyatakan fungsi dengan tautan C untuk menghindari masalah dengan nama mangling:<strong>Note:</strong><br><br> </p> 
       <pre><code>extern "C" {
  float FooPluginFunction();
}
</code></pre> 
       <p>Plug-ins ditulis dalam C atau Objective-C tidak perlu ini, karena bahasa ini tidak menggunakan nama mangling.</p> 
       <h2>Menggunakan plug-in Anda dari C</h2> 
       <p>Aplikasi Anda hanya dapat memanggil iOS <span class="tooltip"><strong>native plug-ins</strong><span class="tooltiptext">Perpustakaan kode asli spesifik platform yang diciptakan di luar Unity untuk digunakan di Unity. Memungkinkan Anda dapat mengakses fitur seperti panggilan OS dan perpustakaan kode pihak ketiga yang tidak akan tersedia untuk Unity. <a class="tooltipMoreInfoLink" href="Plugins.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#Nativeplug-in">Glossary</a></span></span></span> ketika digunakan pada perangkat yang sebenarnya, sehingga Anda harus membungkus semua metode kode asli dengan lapisan kode C # tambahan. Kode ini harus baik menggunakan kompilasi bersyarat <code>UNITY_IOS &amp;&amp; !UNITY_EDITOR</code>, atau cek <code>Application.platform</code> dan hanya memanggil metode asli ketika aplikasi berjalan pada perangkat. Cara sederhana untuk menerapkan ini adalah:</p> 
       <pre><code class="csharp">void MyMethod()
{
#if UNITY_IOS &amp;&amp; !UNITY_EDITOR
    CallNativeMethodImplementation();
#else
    CallEditorMethodImplementation();
#endif
}
</code></pre> 
       <p>Untuk implementasi yang lebih rinci, unduh sampel Bonjour Browser di bawah ini.</p> 
       <h2>Login C# kembali dari kode asli</h2> 
       <p>Unity iOS mendukung fungsionalitas callback asli yang terbatas. Anda dapat melakukan ini dalam satu dari dua cara:</p> 
       <ul> 
        <li>Menggunakan <code>UnitySendMessage</code> </li> 
        <li>Via delegates</li> 
       </ul> 
       <h3>Menggunakan <code>UnitySendMessage</code> </h3> 
       <p>Opsi ini lebih sederhana, tetapi memiliki keterbatasan. Ini terlihat seperti ini:</p> 
       <p><code>UnitySendMessage("GameObjectName1", "MethodName1", "Message to send");</code></p> 
       <p>Ada tiga parameter:</p> 
       <ul> 
        <li>Nama target <code>GameObject</code> </li> 
        <li>Metode skrip untuk memanggil objek tersebut</li> 
        <li>string pesan untuk melewati metode yang disebut</li> 
       </ul> 
       <p>Menggunakan <code>UnitySendMessage</code> memiliki batasan berikut:</p> 
       <ol> 
        <li>Dari kode asli, Anda hanya dapat memanggil metode skrip yang sesuai dengan tanda tangan berikut: <code>void MethodName(string message);</code>.</li> 
        <li>Panggilan ke <code>UnitySendMessage</code> asinkron dan memiliki keterlambatan satu bingkai.</li> 
        <li>Jika dua atau lebih <span class="tooltip"><strong>GameObjects</strong><span class="tooltiptext">Objek mendasar dalam adegan Unity, yang dapat mewakili karakter, props, pemandangan, kamera, waypoints, dan banyak lagi. Fungsi GameObject didefinisikan oleh Komponen yang melekat padanya. <a class="tooltipMoreInfoLink" href="class-GameObject.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#GameObject">Glossary</a></span></span></span> memiliki nama yang sama, ini dapat menyebabkan konflik saat Anda menggunakan <code>UnitySendMessage</code>.</li> 
       </ol> 
       <h3>Menggunakan delegasi</h3> 
       <p>Ini adalah pilihan yang lebih kompleks. Ketika Anda menggunakan delegasi, metode di sisi C# harus statis dan ditandai dengan atribut <code>MonoPInvokeCallback</code>. Anda harus melewati metode sebagai delegasi ke metode extern yang diterapkan dalam kode asli sebagai fungsi yang mengambil pointer untuk berfungsi dengan tanda tangan yang sesuai. Fungsi pointer dalam kode asli kemudian mengarah kembali ke metode C # statis.</p> 
       <p>Kode C# untuk metode ini terlihat seperti ini:</p> 
       <pre><code class="csharp">delegate void MyFuncType();

[AOT.MonoPInvokeCallback(typeof(MyFuncType))]

static void MyFunction() { }

static extern void RegisterCallback(MyFuncType func);
</code></pre> 
       <p>Kode C yang menerima callback kemudian terlihat seperti ini:</p> 
       <pre><code class="c">typedef void (*MyFuncType)();

void RegisterCallback(MyFuncType func) {}
</code></pre> 
       <h2>Integrasi plug-in otomatis</h2> 
       <p>Unity mendukung integrasi plug-in otomatis dan menyalin semua file dengan ekstensi berikut ke proyek Xcode yang dihasilkan jika Anda mengaktifkannya untuk iOS di jendela Plugin <span class="tooltip"><strong>Inspector</strong><span class="tooltiptext">Jendela Unity yang menampilkan informasi tentang Pengaturan GameObject yang dipilih saat ini, aset atau proyek, memungkinkan Anda untuk memeriksa dan mengedit nilai. <a class="tooltipMoreInfoLink" href="UsingTheInspector.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#Inspector">Glossary</a></span></span></span>: <code>.a</code>, <code>.m</code>, <code>.mm</code>, <code>.c</code>, <code>.cpp</code>, <code>.h</code>. Jika ada file dengan ekstensi ini terletak di folder <code>Assets/Plugins/iOS</code>, Unity hanya memungkinkan mereka untuk platform iOS.</p> 
       <p>Sitemap Setelah file disalin ke proyek Xcode yang dihasilkan, mereka tidak lagi dikaitkan dengan rekan-rekan mereka di Proyek Unity Anda. Jika Anda mengubah file ini di Xcode, Anda harus menyalinnya kembali ke Proyek Unity Anda. Jika tidak, Unity akan menimpa mereka saat berikutnya Anda membangun Proyek Anda.<strong>Note:</strong> After the files are copied to the generated Xcode project, they’re no longer linked to their counterparts in your Unity Project. If you change these files in Xcode, you must copy them back into your Unity Project. Otherwise, Unity will overwrite them the next time you build your Project.</p> 
       <figure> 
        <img src="https://docs.unity3d.com/2022.1/Documentation/uploads/Main/PluginInspectoriOS.png" alt="This Inspector window shows that the plug-in has been enabled for iOS."> 
        <figcaption>
          Jendela Inspektur ini menunjukkan bahwa plug-in telah diaktifkan untuk iOS. 
        </figcaption> 
       </figure> 
       <h2>Tips untuk iOS:</h2> 
       <ol> 
        <li><p>Panggilan yang dikelola-ke-unmanaged cukup prosesor intensif di iOS. Cobalah untuk menghindari memanggil beberapa metode asli per bingkai.</p></li> 
        <li><p>Bungkus metode asli Anda dengan tambahan Lapisan C# yang memanggil kode asli pada perangkat dan mengembalikan nilai perut di Editor.</p></li> 
        <li><p>Nilai string kembali dari metode asli harus dikodekan UTF-8 dan dialokasikan pada tuap. Mono marshalling panggilan gratis untuk string seperti ini.</p></li> 
       </ol> 
       <h2>Bonjour Browser sampel</h2> 
       <p>Anda dapat mengunduh contoh sederhana tentang cara menggunakan plug-in kode asli di sini: <a href="https://docs.unity3d.com/2022.1/Documentation/uploads/Examples/iPhoneNativeCodeSample.zip">Bonjour Browser</a>.</p> 
       <p>Contoh ini menunjukkan bagaimana Anda dapat membatalkan kode Objective-C dari aplikasi Unity iOS. Aplikasi ini menerapkan klien Bonjour sederhana dan terdiri dari:</p> 
       <ul> 
        <li>Proyek iOS Unity di mana <code>Plugins\Bonjour.cs</code> adalah antarmuka C# ke kode asli, dan <code>BonjourTest.cs</code> adalah skrip yang menerapkan logika aplikasi</li> 
        <li>Kode asli (dilokasi di <code>Assets/Plugins/iOS</code>) yang harus ditambahkan ke proyek Xcode yang dibangun seperti yang dijelaskan di bagian <strong>Automated plug-in integration</strong> di atas</li> 
       </ul> 
       <!-- area:platforms --> 
       <div id="_content"></div> 
       <div class="nextprev clear"> 
        <div class="icon tt left mr1" data-distance="-40|-30|top"> 
         <span class="prev"><a href="iphone-Optimizing-Physics.html"></a></span> 
         <div class="tip">
           Mengoptimalkan Fisika Sitemap 
         </div> 
        </div> 
        <div class="icon tt right" data-distance="-40|-30|top"> 
         <span class="next"><a href="iphone-Downloadable-Content.html"></a></span> 
         <div class="tip">
           Mempersiapkan aplikasi Anda untuk Pembelian In-App (IAP) 
         </div> 
        </div> 
       </div> 
      </div> 
      <div class="footer-wrapper"> 
       <div class="footer clear"> 
        <div class="copy">
          © 2022 Unity Technologies. Tanggal Publikasi: 2022-04-04. 
        </div> 
        <div class="menu"> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div>  
 </body>
</html>