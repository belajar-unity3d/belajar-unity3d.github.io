<!doctype html>
<html lang="en" class="no-js">
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> 
  <script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script> 
  <script type="text/javascript">
					function OptanonWrapper() { }
				</script> 
  <script>var offline=false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-K8K24X8');}</script> 
  <link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet"> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>XR SDK Antarmuka statistik</title> 
  <meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg"> 
  <meta name="author" content="Unity Technologies"> 
  <link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico"> 
  <link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png"> 
  <link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png"> 
  <meta name="msapplication-TileColor" content="#222c37"> 
  <meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png"> 
  <script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script> 
  <script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20220404"></script> 
  <script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20220404"></script> 
  <script type="text/javascript" src="docdata/toc.js?ts=20220404"></script> 
  <script type="text/javascript" src="docdata/global_toc.js?ts=20220404"></script> 
  <link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20220404"> 
  <link rel="stylesheet" href="../StaticFilesManual/css/prism.css"> 
  <script src="../StaticFilesManual/js/prism.js"></script> 
  <script src="/StaticFilesConfig/feedback/feedback.js"></script> 
  <script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script> 
  <link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css"> 
  <script src="../StaticFilesManual/js/mobileoptimisation.js"></script> 
 </head> 
 <body> 
  <noscript> 
   <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8K24X8" height="0" width="0" style="display:none;visibility:hidden"></iframe> 
  </noscript> 
  <div id="DocsAnalyticsData" data-area="platforms" data-pagetype="manual"></div> 
  <div class="header-wrapper"> 
   <div id="header" class="header"> 
    <div class="content"> 
     <div class="spacer"> 
      <div class="menu"> 
       <div id="nav-open" for="nav-input"> 
        <span></span> 
       </div> 
       <div class="logo"></div> 
       <div class="search-form"> 
        <form action="30_search.html" method="get" class="apisearch"> 
         <input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"> 
         <input type="submit" class="submit"> 
        </form> 
       </div> 
       <ul> 
        <li><a href="../Manual/index.html" class="selected">Manual</a></li> 
        <li><a href="../ScriptReference/index.html">API documentation</a></li> 
       </ul> 
      </div> 
     </div> 
     <div class="more"> 
      <div class="filler"></div> 
      <ul> 
       <li></li> 
      </ul> 
     </div> 
    </div> 
   </div> 
   <div class="toolbar"> 
    <div class="content"> 
    </div> 
   </div> 
   <div class="mobileLogo"></div> 
  </div> 
  <div id="master-wrapper" class="master-wrapper clear"> 
   <div id="sidebar" class="sidebar"> 
    <div class="sidebar-wrap"> 
     <div class="content"> 
      <div class="sidebar-menu"> 
       <div class="toc" id="customScrollbar"> 
        <h2>Manual Unity</h2> 
        <div class="search-form sidebar-search-form"> 
         <form action="30_search.html" method="get" class="apisearch"> 
          <input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"> 
          <input type="submit" id="mobileSearchBtn" class="submit" value="Search"> 
         </form> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div id="content-wrap" class="content-wrap"> 
    <div class="content-block"> 
     <div class="content"> 
      <div class="section"> 
       <div class="breadcrumbs clear"> 
        <ul> 
         <li><a href="UnityManual.html">Unity User Manual 2022.1 (beta)</a></li> 
         <li><a href="XR.html">XR</a></li> 
         <li><a href="xr-sdk.html">SDK</a></li> 
         <li>Interfaces</li> 
         <li>SDK Antarmuka statistik</li> 
        </ul> 
       </div> 
       <div class="mb20"> 
        <div class="nextprev clear"> 
         <div class="icon tt left mr1" data-distance="-40|-30|top"> 
          <span class="prev"><a href="xrsdk-pre-init-interface.html"></a></span> 
          <div class="tip">
            Antarmuka PreInit SDK XR 
          </div> 
         </div> 
         <div class="icon tt right" data-distance="-40|-30|top"> 
          <span class="next"><a href="OpenSourceRepositories.html"></a></span> 
          <div class="tip">
            Repositories sumber terbuka 
          </div> 
         </div> 
        </div> 
       </div> 
       <div id="_leavefeedback"></div> 
       <h1>SDK Antarmuka statistik</h1> 
       <!--BeginSwitchLink--> 
       <!--EndSwitchLink--> 
       <div class="clear"></div> 
       <p>SDK XR Antarmuka statistik digunakan untuk mendaftar dan mengelola data statistik.</p> 
       <h2>Overview</h2> 
       <p>Gunakan antarmuka statistik XR untuk merekam statistik di antara berbagai subsistem. Satu-satunya primitif statistik didukung adalah nomor titik mengambang.</p> 
       <p>Gunakan metode titik entri <code>UnityPluginLoad</code> untuk memperoleh pointer ke antarmuka XRStats:</p> 
       <pre><code class="cpp">IUnityXRStats* sXRStats = nullptr;

extern "C" void UNITY_INTERFACE_EXPORT UnityPluginLoad(IUnityInterfaces* unityInterfaces)
{
    sXRStats = (IUnityXRStats*)unityInterfaces-&gt;GetInterface(UNITY_GET_INTERFACE_GUID(IUnityXRStats));
    //...
}
</code></pre> 
       <h2>Usage</h2> 
       <p>Daftar subsistem dan definisi statistik individu dengan antarmuka statistik:</p> 
       <pre><code class="cpp">static UnityXRStatId m_GPUFrameTimeID;
static UnityXRStatId m_DroppedFrameCountID;
static UnityXRStatId m_WorkThreadStat;

static UnitySubsystemErrorCode ExampleDisplayProvider_Start(UnitySubsystemHandle handle)
{
    if (sXRStats)
    {
        sXRStats-&gt;RegisterStatSource(handle);
        m_GPUFrameTimeID = sXRStats-&gt;RegisterStatDefinition(handle, "Example.GPUTime", kUnityXRStatOptionNone);
        m_DroppedFrameCountID = sXRStats-&gt;RegisterStatDefinition(handle, "Example.DroppedFrame", kUnityXRStatOptionNone);
        m_WorkThreadStat = sXRStats-&gt;RegisterStatDefinition(handle, "Example.WorkerThreadStat", kUnityXRStatOptionNone);
    }

    return kUnitySubsystemErrorCodeSuccess;
}
</code></pre> 
       <p>Memperbarui statistik pada Thread Gfx:</p> 
       <pre><code class="cpp">extern float GetLastGPUTime(); //provided by your runtime
static void ExampleDisplayProvider_GfxThreadCall(UnitySubsystemHandle handle)
{
    sXRStats-&gt;SetStatFloat(m_GPUFrameTimeID, GetLastGPUTime());
    // Do gfx thread things
}

</code></pre> 
       <p>Memperbarui statistik pada benang utama:</p> 
       <pre><code class="cpp">extern float GetDroppedFrameCount(); //provided by your runtime

static void ExampleDisplayProvider_MainThreadCall(UnitySubsystemHandle handle)
{
    sXRStats-&gt;SetStatFloat(m_DroppedFrameCountID, GetDroppedFrameCount());
    // Do main thread things
}
</code></pre> 
       <p>Memperbarui statistik pada benang Anda sendiri, tetapi pastikan untuk memanggil <code>IncrementStatFrame</code> untuk menjaga bingkai saat ini untuk benang yang disinkronkan dengan benang lain (ini dikelola secara internal untuk benang utama dan grafis):</p> 
       <pre><code class="cpp">extern float GetWorkerThreadStat(); //provided by your runtime
static void ExampleDisplayProvider_MyWorkerThread(UnitySubsystemHandle handle)
{
    sXRStats-&gt;IncrementStatFrame();
    sXRStats-&gt;SetStatFloat(m_WorkThreadStat, GetWorkerThreadStat());
    // Do worker thread things
}
</code></pre> 
       <p>Unregister sumber statistik ketika subsistem berhenti:</p> 
       <pre><code class="cpp">static void ExampleDisplayProvider_Stop(UnitySubsystemHandle handle)
{
    sXRStats-&gt;UnregisterStatSource(handle);
}

</code></pre> 
       <h2>Keamanan ulir</h2> 
       <p>Memperbarui statistik melalui <code>SetStatFloat</code> adalah benang aman. Namun, mendaftar dan sumber statistik yang tidak terdaftar tidak aman benang dan hanya harus dilakukan pada benang utama selama fungsi Start dan Stop siklus hidup sumber statistik.</p> 
       <h2>Limitations</h2> 
       <p>Ukuran antrian untuk memproses statistik adalah 2000. antrian ini dibagikan di antara semua benang dan semua subsistem dan hanya dilayani pada penyelesaian bingkai. Untuk alasan ini, Anda harus menyimpan jumlah panggilan ke <code>SetStatFloat</code> rendah untuk menghindari mengisi antrian.</p> 
       <p>Sitemap Setiap statistik yang dicatat ketika antrian penuh akan hilang.<strong>Note:</strong> Any stat recorded when the queue is full will be lost.</p> 
       <h2>Mengekspos statistik untuk pengguna</h2> 
       <p>Di ruang nama <code>UnityEngine.XR.Provider</code>, gunakan <code>public static bool TryGetStat(Experimental.IntegratedSubsystem xrSubsystem, string tag, out float value)</code> untuk mendapatkan statistik yang terdaftar dan diperbarui dengan penyedia Anda:</p> 
       <pre><code class="csharp">using UnityEngine.XR.Provider;
using System.Collections.Generic;
using UnityEngine.Experimental.XR;
using UnityEngine.Experimental;
using UnityEngine;

public static class ExampleProviderStats
{
    public static float GPUFrameTime()
    {
        float tmp;
        XRStats.TryGetStat(GetFirstDisplaySubsystem(), "Example.GPUTime", out tmp);
        return tmp;
    }

    public static int DroppedFrameCount()
    {
        float tmp;
        XRStats.TryGetStat(GetFirstDisplaySubsystem(), "Example.DroppedFrame", out tmp);
        return (int)tmp;
    }

    public static float MyWorkerThreadStat()
    {
        float tmp;
        XRStats.TryGetStat(GetFirstDisplaySubsystem(), "Example.WorkerThreadStat", out tmp);
        return tmp;
    }

    // etc...
    private static IntegratedSubsystem GetFirstDisplaySubsystem()
    {
        List&lt;XRDisplaySubsystem&gt; displays = new List&lt;XRDisplaySubsystem&gt;();
        SubsystemManager.GetInstances(displays);
        if (displays.Count == 0)
        {
            Debug.Log("No display subsystem found.");
            return null;
        }
        return displays[0];
    }
}
</code></pre> 
       <p>Menulis metode aksesor publik seperti contoh di atas dapat membantu pengguna memperoleh statistik tanpa perlu menyaring melalui dokumentasi penyedia dan menemukan subsistem dengan statistik mana yang terdaftar.</p> 
       <p>Selain itu, beberapa subsistem memiliki tag statistik yang telah ditentukan. Penyedia Anda dapat menyediakan statistik untuk <a href="../ScriptReference/XR.XRStats.html">API</a> yang dieksposkan Unity dengan mendaftarkan tag statistik spesifik subsistem (misalnya: <code>Headers/XR/UnityXRDisplayStats.h</code>).</p> 
       <!-- area:platforms --> 
       <div id="_content"></div> 
       <div class="nextprev clear"> 
        <div class="icon tt left mr1" data-distance="-40|-30|top"> 
         <span class="prev"><a href="xrsdk-pre-init-interface.html"></a></span> 
         <div class="tip">
           Antarmuka PreInit SDK XR 
         </div> 
        </div> 
        <div class="icon tt right" data-distance="-40|-30|top"> 
         <span class="next"><a href="OpenSourceRepositories.html"></a></span> 
         <div class="tip">
           Repositories sumber terbuka 
         </div> 
        </div> 
       </div> 
      </div> 
      <div class="footer-wrapper"> 
       <div class="footer clear"> 
        <div class="copy">
          Â© 2022 Unity Technologies. Tanggal Publikasi: 2022-04-04. 
        </div> 
        <div class="menu"> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div>  
 </body>
</html>