<!doctype html>
<html lang="en" class="no-js">
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> 
  <script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script> 
  <script type="text/javascript">
					function OptanonWrapper() { }
				</script> 
  <script>var offline=false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-K8K24X8');}</script> 
  <link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet"> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Unity - Manual: CullingGroup API</title> 
  <meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg"> 
  <meta name="author" content="Unity Technologies"> 
  <link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico"> 
  <link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png"> 
  <link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png"> 
  <meta name="msapplication-TileColor" content="#222c37"> 
  <meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png"> 
  <script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script> 
  <script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20220404"></script> 
  <script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20220404"></script> 
  <script type="text/javascript" src="docdata/toc.js?ts=20220404"></script> 
  <script type="text/javascript" src="docdata/global_toc.js?ts=20220404"></script> 
  <link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20220404"> 
  <link rel="stylesheet" href="../StaticFilesManual/css/prism.css"> 
  <script src="../StaticFilesManual/js/prism.js"></script> 
  <script src="/StaticFilesConfig/feedback/feedback.js"></script> 
  <script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script> 
  <link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css"> 
  <script src="../StaticFilesManual/js/mobileoptimisation.js"></script> 
 </head> 
 <body> 
  <noscript> 
   <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8K24X8" height="0" width="0" style="display:none;visibility:hidden"></iframe> 
  </noscript> 
  <div id="DocsAnalyticsData" data-area="graphics" data-pagetype="manual"></div> 
  <div class="header-wrapper"> 
   <div id="header" class="header"> 
    <div class="content"> 
     <div class="spacer"> 
      <div class="menu"> 
       <div id="nav-open" for="nav-input"> 
        <span></span> 
       </div> 
       <div class="logo"></div> 
       <div class="search-form"> 
        <form action="30_search.html" method="get" class="apisearch"> 
         <input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"> 
         <input type="submit" class="submit"> 
        </form> 
       </div> 
       <ul> 
        <li><a href="../Manual/index.html" class="selected">Manual</a></li> 
        <li><a href="../ScriptReference/index.html">API documentation</a></li> 
       </ul> 
      </div> 
     </div> 
     <div class="more"> 
      <div class="filler"></div> 
      <ul> 
       <li></li> 
      </ul> 
     </div> 
    </div> 
   </div> 
   <div class="toolbar"> 
    <div class="content"> 
    </div> 
   </div> 
   <div class="mobileLogo"></div> 
  </div> 
  <div id="master-wrapper" class="master-wrapper clear"> 
   <div id="sidebar" class="sidebar"> 
    <div class="sidebar-wrap"> 
     <div class="content"> 
      <div class="sidebar-menu"> 
       <div class="toc" id="customScrollbar"> 
        <h2>Manual Unity</h2> 
        <div class="search-form sidebar-search-form"> 
         <form action="30_search.html" method="get" class="apisearch"> 
          <input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"> 
          <input type="submit" id="mobileSearchBtn" class="submit" value="Search"> 
         </form> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div id="content-wrap" class="content-wrap"> 
    <div class="content-block"> 
     <div class="content"> 
      <div class="section"> 
       <div class="breadcrumbs clear"> 
        <ul> 
         <li><a href="UnityManual.html">Manual Pengguna Unity 2022.1 (beta)</a></li> 
         <li><a href="Graphics.html">Graphics</a></li> 
         <li><a href="CamerasOverview.html">Kamera</a></li> 
         <li>API documentation</li> 
        </ul> 
       </div> 
       <div class="mb20"> 
        <div class="nextprev clear"> 
         <div class="icon tt left mr1" data-distance="-40|-30|top"> 
          <span class="prev"><a href="occlusion-culling-additional-resources.html"></a></span> 
          <div class="tip">
            Sumber daya tambahan budidaya 
          </div> 
         </div> 
         <div class="icon tt right" data-distance="-40|-30|top"> 
          <span class="next"><a href="DynamicResolution.html"></a></span> 
          <div class="tip">
            Resolusi dinamis 
          </div> 
         </div> 
        </div> 
       </div> 
       <div id="_leavefeedback"></div> 
       <h1>API documentation</h1> 
       <!--BeginSwitchLink--> 
       <!--EndSwitchLink--> 
       <div class="clear"></div> 
       <p>CullingGroup menawarkan cara untuk mengintegrasikan sistem Anda sendiri ke pipa Unity dan <span class="tooltip"><strong>LOD</strong><span class="tooltiptext">Teknik <em>Tingkat Detail</em> (LOD) adalah optimasi yang mengurangi jumlah segitiga yang dimiliki Unity untuk membuat GameObject ketika jaraknya dari kamera meningkat. <a class="tooltipMoreInfoLink" href="LevelOfDetail.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#LOD">Glossary</a></span></span></span>. Ini dapat digunakan untuk banyak tujuan; misalnya:</p> 
       <ul> 
        <li>Mensimulasikan kerumunan orang, sementara hanya memiliki <span class="tooltip"><strong>GameObjects</strong><span class="tooltiptext">Objek mendasar dalam adegan Unity, yang dapat mewakili karakter, props, pemandangan, kamera, waypoints, dan banyak lagi. Fungsi GameObject didefinisikan oleh Komponen yang melekat padanya. <a class="tooltipMoreInfoLink" href="class-GameObject.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#GameObject">Glossary</a></span></span></span> penuh untuk karakter yang sebenarnya terlihat sekarang</li> 
        <li>Membangun GPU <span class="tooltip"><strong>particle system</strong><span class="tooltiptext">Komponen yang mensimulasikan entitas fluida seperti cairan, awan dan nyala dengan menghasilkan dan memikat sejumlah besar gambar 2D kecil di tempat kejadian. <a class="tooltipMoreInfoLink" href="class-ParticleSystem.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#particlesystem">Glossary</a></span></span></span> didorong oleh Grafik. DrawProcedural, tetapi sistem partikel rendering skipping yang berada di belakang dinding</li> 
        <li>Pelacakan yang memijat poin tersembunyi dari <span class="tooltip"><strong>camera</strong><span class="tooltiptext">Komponen yang menciptakan gambar sudut pandang tertentu di tempat kejadian Anda. Output ditarik ke layar atau ditangkap sebagai tekstur. <a class="tooltipMoreInfoLink" href="CamerasOverview.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#Camera">Glossary</a></span></span></span> untuk memijat musuh tanpa pemain melihat mereka 'pop' ke dalam pandangan</li> 
        <li>Mengganti karakter dari animasi berkualitas penuh dan perhitungan AI ketika dekat, untuk perilaku lebih murah berkualitas rendah pada jarak</li> 
        <li>Memiliki 10.000 poin penanda dalam <span class="tooltip"><strong>scene</strong><span class="tooltiptext">Adegan berisi lingkungan dan menu permainan Anda. Pikirkan setiap file Adegan unik sebagai tingkat yang unik. Di setiap Adegan, Anda menempatkan lingkungan, hambatan, dan dekorasi, pada dasarnya merancang dan membangun permainan Anda dalam potongan-potongan. <a class="tooltipMoreInfoLink" href="CreatingScenes.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#Scene">Glossary</a></span></span></span> Anda dan secara efisien menemukan ketika pemain masuk dalam 1m dari salah satu dari mereka</li> 
       </ul> 
       <p>API bekerja dengan memberikan array dari bidang yang terikat. Keterlihatan lingkup ini relatif terhadap kamera tertentu kemudian dihitung, bersama dengan nilai ‘banding’ yang dapat diperlakukan seperti nomor level LOD.</p> 
       <h2>Memulai dengan CullingGroup</h2> 
       <p>Tidak ada komponen atau alat visual untuk bekerja dengan CullingGroups; mereka dapat diakses secara murni melalui skrip.</p> 
       <p>Sebuah CullingGroup dapat dibangun menggunakan operator 'baru':</p> 
       <pre><code>CullingGroup group = new CullingGroup();
</code></pre> 
       <p>Untuk memiliki CullingGroup melakukan perhitungan visibilitas, tentukan kamera yang harus digunakan:</p> 
       <pre><code>group.targetCamera = Camera.main;
</code></pre> 
       <p>Membuat dan mengisi array dari struktur BoundingSphere dengan posisi dan radii dari bidang Anda, dan melewatinya ke SetBoundingSpheres bersama dengan jumlah bidang yang sebenarnya dalam array. Jumlah bidang tidak perlu sama dengan panjang array. Unity merekomendasikan bahwa Anda membuat array yang cukup besar untuk menahan sebagian besar bidang yang akan Anda miliki pada satu kali, bahkan jika jumlah awal bidang yang sebenarnya Anda miliki di array sangat rendah. Menggunakan array yang lebih besar memungkinkan Anda untuk menambahkan atau menghapus spheres sesuai kebutuhan tanpa proses yang mahal untuk mengubah array pada runtime.</p> 
       <pre><code>BoundingSphere[] spheres = new BoundingSphere[1000];
spheres[0] = new BoundingSphere(Vector3.zero, 1f);
group.SetBoundingSpheres(spheres);
group.SetBoundingSphereCount(1);
</code></pre> 
       <p>Pada titik ini, CullingGroup akan mulai mengkomputasikan visibilitas satu bidang setiap bingkai.</p> 
       <p>Untuk membersihkan CullingGroup dan membebaskan semua memori yang digunakan, membuang CullingGroup melalui standar. Mekanisme IDisposable NET:</p> 
       <pre><code>group.Dispose();
group = null;
</code></pre> 
       <h3>Menerima hasil melalui callback onStateChanged</h3> 
       <p>Cara yang paling efisien untuk menanggapi bidang mengubah visibilitas atau status jarak mereka adalah untuk menggunakan bidang callback onStateChanged. Mengatur ini ke fungsi yang mengambil struktur CullingGroupEvent sebagai argumen; kemudian akan disebut setelah penanaman selesai, untuk setiap bidang yang telah berubah keadaan. Anggota struktur CullingGroupEvent memberi tahu Anda tentang negara-negara sebelumnya dan baru di bidang.</p> 
       <pre><code>group.onStateChanged = StateChangedMethod;

private void StateChangedMethod(CullingGroupEvent evt)
{
    if(evt.hasBecomeVisible)
        Debug.LogFormat("Sphere {0} has become visible!", evt.index);
    if(evt.hasBecomeInvisible)
        Debug.LogFormat("Sphere {0} has become invisible!", evt.index);
}
</code></pre> 
       <h3>Menerima hasil melalui CullingGroup Query API</h3> 
       <p>Selain delegate onStateChanged, CullingGroup menyediakan API untuk menghidupkan kembali visibilitas terbaru dan hasil jarak dari setiap bidang dalam array yang terikat. Untuk memeriksa keadaan satu bidang, gunakan metode IsVisible dan GetDistance:</p> 
       <pre><code>bool sphereIsVisible = group.IsVisible(0);
int sphereDistanceBand = group.GetDistance(0);
</code></pre> 
       <p>Untuk memeriksa keadaan beberapa bidang, Anda dapat menggunakan metode QueryIndices. Metode ini memindai berbagai bidang terus menerus untuk menemukan salah satu yang cocok dengan keadaan visibilitas atau jarak tertentu.</p> 
       <pre><code>// Allocate an array to hold the resulting sphere indices - the size of the array determines the maximum spheres checked per call
int[] resultIndices = new int[1000];
// Also set up an int for storing the actual number of results that have been placed into the array
int numResults = 0;

// Find all spheres that are visible
numResults = group.QueryIndices(true, resultIndices, 0);
// Find all spheres that are in distance band 1
numResults = group.QueryIndices(1, resultIndices, 0);
// Find all spheres that are hidden in distance band 2, skipping the first 100
numResults = group.QueryIndices(false, 2, resultIndices, 100);
</code></pre> 
       <p>Ingat bahwa informasi yang diambil oleh API query hanya diperbarui ketika kamera yang digunakan oleh Culling sebenarnyaGroup melakukan penanamannya.</p> 
       <h2>CullingGroup API Praktik Terbaik</h2> 
       <p>Ketika mempertimbangkan bagaimana Anda mungkin menerapkan CullingGroup ke proyek Anda, pertimbangkan aspek berikut dari desain CullingGroup.</p> 
       <h3>Menggunakan visibilitas</h3> 
       <p>Semua volume untuk visibilitas Calon CullingGroup didefinisikan oleh bidang yang terikat - dalam praktik, posisi (pusat sphere) dan nilai radius. Tidak ada bentuk yang terikat lainnya didukung, karena alasan kinerja. Dalam praktek ini berarti Anda akan mendefinisikan sebuah bidang yang sepenuhnya menutup objek yang Anda minati dalam penanaman. Jika fit yang lebih ketat diperlukan, pertimbangkan menggunakan beberapa bidang untuk menutupi bagian yang berbeda dari objek, dan membuat keputusan berdasarkan keadaan visibilitas dari semua bidang.</p> 
       <p>Untuk mengevaluasi visibilitas, CullingGroup perlu tahu jarak pandang kamera mana yang harus dipenuhi. Saat ini satu CullingGroup hanya mendukung satu kamera. Jika Anda perlu mengevaluasi visibilitas ke beberapa kamera, Anda harus menggunakan satu CullingGroup per kamera dan menggabungkan hasilnya.</p> 
       <p>CullingGroup akan menghitung visibilitas berdasarkan kusen frustum dan static <span class="tooltip"><strong>occlusion culling</strong><span class="tooltiptext">A yang menonaktifkan rendering objek ketika mereka tidak saat ini dilihat oleh kamera karena mereka dikabur (disebutkan) oleh benda lain. <a class="tooltipMoreInfoLink" href="OcclusionCulling.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#Occlusionculling">Glossary</a></span></span></span> hanya. Ini tidak akan mengambil objek dinamis ke dalam akun sebagai pemungut potensial.</p> 
       <h3>Menggunakan jarak</h3> 
       <p>CullingGroup mampu menghitung jarak antara beberapa titik referensi (misalnya, posisi kamera atau pemain) dan titik terdekat di setiap bidang. Nilai jarak ini tidak diberikan kepada Anda secara langsung, tetapi bukan dikuantisasi menggunakan serangkaian nilai ambang yang Anda berikan, untuk menghitung hasil integer ‘bandtance’ diskrit. Tujuannya adalah bahwa Anda menafsirkan band jarak ini sebagai ‘penampilan tertutup’, ‘penampilan menengah’, ‘penjualan jauh’, dan sebagainya.</p> 
       <p>CullingGroup akan memberikan callback ketika objek bergerak dari menjadi dalam satu band untuk berada di lain, memberi Anda kesempatan untuk melakukan hal-hal seperti mengubah perilaku objek itu ke sesuatu yang kurang intensif CPU.</p> 
       <p>Setiap bidang yang berada di luar band jarak terakhir akan dianggap tidak terlihat, memungkinkan Anda untuk dengan mudah membangun implementasi budidaya yang benar-benar menonaktifkan objek yang sangat jauh. Jika Anda tidak ingin perilaku ini, cukup set nilai ambang akhir Anda untuk berada di jarak tak terbatas.</p> 
       <p>Hanya satu titik referensi didukung per CullingGroup.</p> 
       <h3>Kinerja dan desain</h3> 
       <p>Sitemap API tidak memberi Anda kemampuan untuk membuat perubahan pada adegan Anda dan kemudian segera meminta keadaan visibilitas baru dari bidang yang terikat. Untuk alasan kinerja, CullingGroup hanya menghitung informasi visibilitas baru selama pelaksanaan penanaman untuk kamera secara keseluruhan; itu pada titik ini bahwa informasi tersedia untuk Anda, baik melalui callback, atau melalui CullingGroup query API. Dalam prakteknya, ini berarti Anda harus mendekati CullingGroup secara asinkron.</p> 
       <p>Array bidang yang terikat Anda berikan kepada CullingGroup direferensikan oleh CullingGroup, daripada disalin. Ini berarti Anda harus menyimpan referensi ke array yang Anda lewatkan ke SetBoundingSpheres, dan bahwa Anda dapat memodifikasi konten array ini tanpa perlu memanggil SetBoundingSpheres lagi. Jika Anda membutuhkan beberapa CullingGroups yang menghitung visibilitas dan jarak untuk set yang sama dari spheres - misalnya, untuk beberapa kamera - maka itu efisien untuk memiliki semua CullingGroups berbagi instance sphere yang sama.</p> 
       <!-- area:graphics --> 
       <div id="_content"></div> 
       <div class="nextprev clear"> 
        <div class="icon tt left mr1" data-distance="-40|-30|top"> 
         <span class="prev"><a href="occlusion-culling-additional-resources.html"></a></span> 
         <div class="tip">
           Sumber daya tambahan budidaya 
         </div> 
        </div> 
        <div class="icon tt right" data-distance="-40|-30|top"> 
         <span class="next"><a href="DynamicResolution.html"></a></span> 
         <div class="tip">
           Resolusi dinamis 
         </div> 
        </div> 
       </div> 
      </div> 
      <div class="footer-wrapper"> 
       <div class="footer clear"> 
        <div class="copy">
          © 2022 Unity Technologies. Tanggal Publikasi: 2022-04-04. 
        </div> 
        <div class="menu"> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div>  
 </body>
</html>