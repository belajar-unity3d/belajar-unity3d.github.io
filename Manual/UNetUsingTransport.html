<!doctype html>
<html lang="en" class="no-js">
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> 
  <script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script> 
  <script type="text/javascript">
					function OptanonWrapper() { }
				</script> 
  <script>var offline=false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-K8K24X8');}</script> 
  <link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet"> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Unity - Manual: Menggunakan API Layer Transportasi</title> 
  <meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg"> 
  <meta name="author" content="Unity Technologies"> 
  <link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico"> 
  <link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png"> 
  <link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png"> 
  <meta name="msapplication-TileColor" content="#222c37"> 
  <meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png"> 
  <script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script> 
  <script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20220404"></script> 
  <script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20220404"></script> 
  <script type="text/javascript" src="docdata/toc.js?ts=20220404"></script> 
  <script type="text/javascript" src="docdata/global_toc.js?ts=20220404"></script> 
  <link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20220404"> 
  <link rel="stylesheet" href="../StaticFilesManual/css/prism.css"> 
  <script src="../StaticFilesManual/js/prism.js"></script> 
  <script src="/StaticFilesConfig/feedback/feedback.js"></script> 
  <script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script> 
  <link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css"> 
  <script src="../StaticFilesManual/js/mobileoptimisation.js"></script> 
 </head> 
 <body> 
  <noscript> 
   <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8K24X8" height="0" width="0" style="display:none;visibility:hidden"></iframe> 
  </noscript> 
  <div id="DocsAnalyticsData" data-area="cloud" data-pagetype="manual"></div> 
  <div class="header-wrapper"> 
   <div id="header" class="header"> 
    <div class="content"> 
     <div class="spacer"> 
      <div class="menu"> 
       <div id="nav-open" for="nav-input"> 
        <span></span> 
       </div> 
       <div class="logo"></div> 
       <div class="search-form"> 
        <form action="30_search.html" method="get" class="apisearch"> 
         <input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"> 
         <input type="submit" class="submit"> 
        </form> 
       </div> 
       <ul> 
        <li><a href="../Manual/index.html" class="selected">Manual</a></li> 
        <li><a href="../ScriptReference/index.html">API documentation</a></li> 
       </ul> 
      </div> 
     </div> 
     <div class="more"> 
      <div class="filler"></div> 
      <ul> 
       <li></li> 
      </ul> 
     </div> 
    </div> 
   </div> 
   <div class="toolbar"> 
    <div class="content"> 
    </div> 
   </div> 
   <div class="mobileLogo"></div> 
  </div> 
  <div id="master-wrapper" class="master-wrapper clear"> 
   <div id="sidebar" class="sidebar"> 
    <div class="sidebar-wrap"> 
     <div class="content"> 
      <div class="sidebar-menu"> 
       <div class="toc" id="customScrollbar"> 
        <h2>Manual Unity</h2> 
        <div class="search-form sidebar-search-form"> 
         <form action="30_search.html" method="get" class="apisearch"> 
          <input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"> 
          <input type="submit" id="mobileSearchBtn" class="submit" value="Search"> 
         </form> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div id="content-wrap" class="content-wrap"> 
    <div class="content-block"> 
     <div class="content"> 
      <div class="section"> 
       <div class="breadcrumbs clear"> 
        <ul> 
         <li><a href="UnityManual.html"></a></li> 
         <li><a href="UNet.html">Multiplayer dan Jaringan</a></li> 
         <li><a href="UNetUsingHLAPI.html">Multiplayer API</a></li> 
         <li>Menggunakan API Layer Transportasi</li> 
        </ul> 
       </div> 
       <div class="mb20"> 
        <div class="nextprev clear"> 
         <div class="icon tt left mr1" data-distance="-40|-30|top"> 
          <span class="prev"><a href="UNetLobby.html"></a></span> 
          <div class="tip">
            Lobi multiplayer 
          </div> 
         </div> 
         <div class="icon tt right" data-distance="-40|-30|top"> 
          <span class="next"><a href="UNetReaderWriter.html"></a></span> 
          <div class="tip">
            JaringanReader dan serializer JaringanWriter 
          </div> 
         </div> 
        </div> 
       </div> 
       <div id="_leavefeedback"></div> 
       <h1>Menggunakan API Layer Transportasi</h1> 
       <!--BeginSwitchLink--> 
       <!--EndSwitchLink--> 
       <div class="clear"></div> 
       <table> 
        <colgroup> 
         <col style="text-align:left;"> 
        </colgroup> 
        <thead> 
         <tr> 
          <th style="text-align:left;"></th> 
         </tr> 
        </thead> 
        <tbody> 
         <tr> 
          <td style="text-align:left;"> <strong>Important</strong>: UNet adalah solusi yang diuraikan, dan Solusi Multiplayer baru dan <span class="tooltip"><strong>Networking</strong><span class="tooltiptext">Sistem Unity yang memungkinkan game multiplayer di jaringan komputer. <a class="tooltipMoreInfoLink" href="UNetOverview.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#Networking">Glossary</a></span></span></span> (Netcode untuk GameObjects) sedang berkembang. Untuk informasi lebih lanjut dan langkah selanjutnya melihat informasi di .</td> 
         </tr> 
        </tbody> 
       </table> 
       <p>Selain <a href="UNetUsingHLAPI.html">API jaringan tingkat tinggi (HLAPI)</a>, Unity juga menyediakan akses ke API jaringan tingkat bawah yang disebut <strong>Transport Layer</strong>. Lapisan Transportasi memungkinkan Anda untuk membangun sistem jaringan Anda sendiri dengan persyaratan yang lebih spesifik atau canggih untuk jaringan permainan Anda.</p> 
       <p>Lapisan Transportasi adalah <span class="tooltip"><a class="tooltipMoreInfoLink" href="https://en.wikipedia.org/wiki/Multitier_architecture">layer</a><span class="tooltiptext">Lapisan dalam Unity dapat digunakan untuk memilih kelompok GameObjects secara selektif atau keluar dari proses atau perhitungan tertentu. Ini termasuk rendering kamera, pencahayaan, tabrakan fisika, atau perhitungan kustom dalam kode Anda sendiri. <a href="Layers.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#Layer">Glossary</a></span></span></span> tipis yang bekerja di atas jaringan berbasis soket sistem operasi. Ini dapat mengirim dan menerima pesan yang diwakili sebagai array dari byte, dan menawarkan sejumlah pilihan "<a href="../ScriptReference/Networking.QosType.html">kualitas layanan</a>" yang berbeda untuk menyesuaikan skenario yang berbeda. Difokuskan pada fleksibilitas dan kinerja, dan mengekspos API dalam kelas <a href="../ScriptReference/Networking.NetworkTransport.html">NetworkTransport</a>.</p> 
       <p>Lapisan Transportasi mendukung layanan dasar untuk komunikasi jaringan. Layanan dasar ini meliputi:</p> 
       <ul> 
        <li><p>Membangun koneksi</p></li> 
        <li><p>Berkomunikasi menggunakan berbagai “kualitas layanan”</p></li> 
        <li><p>Kontrol aliran</p></li> 
        <li><p>Statistik</p></li> 
        <li><p>Layanan tambahan, seperti komunikasi melalui server relay atau penemuan lokal</p></li> 
       </ul> 
       <p>Lapisan Transportasi dapat menggunakan dua protokol: UDP untuk komunikasi generik, dan WebSockets untuk <span class="tooltip"><strong>WebGL</strong><span class="tooltiptext">Login API yang membuat grafis 2D dan 3D di browser web. Opsi build Unity WebGL memungkinkan Unity untuk mempublikasikan konten sebagai program JavaScript yang menggunakan teknologi HTML5 dan WebGL rendering API untuk menjalankan konten Unity di browser web. <a class="tooltipMoreInfoLink" href="webgl-gettingstarted.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#WebGL">Glossary</a></span></span></span>. Untuk menggunakan lapisan transportasi langsung, alur kerja khas adalah sebagai berikut:</p> 
       <ol> 
        <li><p>Memastikan Lapisan Transportasi Jaringan</p></li> 
        <li><p>Konfigurasi topologi jaringan</p></li> 
        <li><p>Buat host</p></li> 
        <li><p>Mulai komunikasi (koneksi tangan dan mengirim/menerima pesan)</p></li> 
        <li><p>Shutdown library setelah digunakan</p></li> 
       </ol> 
       <p>Lihat bagian yang sesuai di bawah ini untuk belajar tentang rincian teknis setiap bagian. Setiap bagian menyediakan cuplikan kode untuk menyertakan skrip jaringan Anda.</p> 
       <h3>Langkah 1: Menginisialisasi Lapisan Transportasi Jaringan</h3> 
       <p>Ketika menginisialisasi Lapisan Transportasi Jaringan, Anda dapat memilih antara awalisasi default yang ditunjukkan dalam sampel kode di bawah (tidak ada argumen), atau Anda dapat menyediakan parameter tambahan yang mengontrol perilaku keseluruhan lapisan jaringan, seperti ukuran paket maksimum dan batas waktu benang.</p> 
       <p>Untuk menginisialisasi lapisan transportasi dengan pengaturan default, sebut <a href="../ScriptReference/Networking.NetworkTransport.Init.html">Init()</a>:</p> 
       <pre><code>
    // Initializing the Transport Layer with no arguments (default settings)
    NetworkTransport.Init();

To initialize the transport layer with your own configuration just add your configuration as a parameter to Init, as shown below.

    // An example of initializing the Transport Layer with custom settings
    GlobalConfig gConfig = new GlobalConfig();
    gConfig.MaxPacketSize = 500;
    NetworkTransport.Init(gConfig);
</code></pre> 
       <p>Anda hanya boleh menggunakan nilai <code>Init</code> kustom jika Anda memiliki lingkungan jaringan yang tidak biasa dan akrab dengan pengaturan spesifik yang Anda butuhkan. Sebagai aturan thumb, jika Anda mengembangkan permainan multiplayer khas untuk dimainkan di internet, pengaturan <code>Init</code> default cukup.</p> 
       <h3>Langkah 2: Mengkonfigurasi topologi jaringan</h3> 
       <p>Langkah berikutnya adalah untuk mengkonfigurasi koneksi antara rekan. Topologi jaringan menentukan berapa banyak koneksi yang diperbolehkan dan konfigurasi koneksi apa yang akan digunakan. Jika permainan Anda perlu mengirim pesan jaringan yang bervariasi penting (misalnya pentingnya rendah seperti efek suara insidental, vs sangat penting seperti apakah pemain mencetak poin), Anda mungkin ingin mendefinisikan beberapa saluran komunikasi, masing-masing dengan kualitas yang berbeda dari tingkat layanan yang ditentukan sesuai dengan jenis pesan tertentu yang ingin Anda kirim, dan penting relatif mereka dalam permainan Anda.</p> 
       <pre><code>
    ConnectionConfig config = new ConnectionConfig();
    int myReliableChannelId  = config.AddChannel(QosType.Reliable);
    int myUnreliableChannelId = config.AddChannel(QosType.Unreliable);
</code></pre> 
       <p>Contoh di atas mendefinisikan dua saluran komunikasi dengan nilai layanan yang berbeda. <a href="../ScriptReference/Networking.QosType.Reliable.html">QosType.Reliable</a> memberikan pesan dan memastikan bahwa pesan disampaikan, sementara <a href="../ScriptReference/Networking.QosType.Unreliable.html">QosType.Unreliable</a> mengirim pesan lebih cepat, tetapi tanpa pemeriksaan untuk memastikannya disampaikan.</p> 
       <p>Anda juga dapat menyesuaikan properti pada <a href="../ScriptReference/Networking.ConnectionConfig.html">ConnectionConfig</a> untuk menentukan pengaturan konfigurasi untuk setiap koneksi. Namun, ketika membuat koneksi dari satu klien ke yang lain, pengaturan harus sama untuk peer terhubung, atau koneksi gagal dengan kesalahan <a href="../ScriptReference/Networking.NetworkError.CRCMismatch.html">CRCMismatch</a>.</p> 
       <p>Langkah terakhir dari konfigurasi jaringan adalah definisi topologi.</p> 
       <pre><code>
HostTopology topology = new HostTopology(config, 10);
</code></pre> 
       <p>Contoh ini mendefinisikan topologi host karena dapat memungkinkan hingga 10 koneksi. Koneksi ini adalah yang Anda konfigurasikan dalam Langkah 1.</p> 
       <h3>Langkah 3: Buat host</h3> 
       <p>Sekarang bahwa Anda telah melakukan dua langkah set-up awal pertama, Anda perlu membuat host (kaket terbuka):</p> 
       <pre><code>
int hostId = NetworkTransport.AddHost(topology, 8888);
</code></pre> 
       <p>Contoh kode ini menambahkan host baru pada port 8888 dan alamat IP apa pun. Host mendukung koneksi 10 (Anda mengkonfigurasi ini di Langkah 2). Koneksi ini adalah yang Anda konfigurasikan di Langkah 1.</p> 
       <h3>Langkah 4: Mulai berkomunikasi</h3> 
       <p>Untuk memulai berkomunikasi, Anda perlu mengatur koneksi ke host lain. Untuk melakukan ini, hubungi <code>Connect()</code>. Ini mengatur koneksi antara Anda dan host jarak jauh. Acara diterima untuk menunjukkan apakah koneksi berhasil.</p> 
       <p>Pertama, hubungkan ke host jarak jauh di 192.168.1.42 dengan port 8888. <code>connectionId</code> yang ditugaskan dikembalikan.</p> 
       <pre><code>
connectionId = NetworkTransport.Connect(hostId, "192.168.1.42", 8888, 0, out error);

</code></pre> 
       <p>Ketika koneksi dilakukan, ConnectEvent diterima. Sekarang Anda dapat mulai mengirim data.</p> 
       <pre><code>
NetworkTransport.Send(hostId, connectionId, myReliableChannelId, buffer, bufferLength,  out error);
</code></pre> 
       <p>Ketika Anda dilakukan dengan koneksi, hubungi <code>Disconnect()</code> untuk memutuskan host.</p> 
       <pre><code>NetworkTransport.Disconnect(hostId, connectionId, out error);
</code></pre> 
       <p>Untuk memeriksa apakah panggilan fungsi Anda berhasil, Anda dapat melemparkan <code>out error</code> ke <a href="../ScriptReference/Networking.NetworkError.html">NetworkError</a>. <a href="../ScriptReference/Networking.NetworkError.Ok.html">WordPress.org</a> menunjukkan bahwa tidak ada kesalahan yang ditemui.</p> 
       <p>Untuk memeriksa status host, Anda dapat menggunakan dua fungsi:</p> 
       <p>Untuk peristiwa polling dari antrian acara internal yang dapat Anda sebutkan baik</p> 
       <p>JaringanTransport. Menerima (out recHostId, koneksi keluar Id, keluar channelId, recBuffer, bufferSize, keluar dataSize, keluar error);</p> 
       <p>Atau NetworkTransport.ReceiveDariHost (recHost Id, keluar koneksiId, keluar channelId, recBuffer, bufferSize, out dataSize, keluar error);</p> 
       <p>Kedua fungsi ini kembali peristiwa dari antrian; fungsi pertama akan kembali peristiwa dari setiap host, dan variabel recHostId akan ditugaskan dengan host id bahwa pesan berasal dari, sedangkan fungsi kedua kembali peristiwa hanya dari host yang ditentukan oleh recHostId yang Anda berikan.</p> 
       <p>Satu cara untuk mencemari data dari <code>Receive</code> adalah untuk menyebutnya dalam fungsi <code>Update</code> Anda;</p> 
       <pre><code>
void Update()
{

    int recHostId; 
    int connectionId; 
    int channelId; 
    byte[] recBuffer = new byte[1024]; 
    int bufferSize = 1024;
    int dataSize;
    byte error;
    NetworkEventType recData = NetworkTransport.Receive(out recHostId, out connectionId, out channelId, recBuffer, bufferSize, out dataSize, out error);
    switch (recData)
    {
        case NetworkEventType.Nothing:                     break;
        case NetworkEventType.ConnectEvent:                break;
        case NetworkEventType.DataEvent:                   break;
        case NetworkEventType.DisconnectEvent:            break;

  case NetworkEventType.BroadcastEvent:

       break;
    }
}

</code></pre> 
       <p>Ada 5 jenis acara yang dapat Anda terima.</p> 
       <ul> 
        <li><p> <a href="../ScriptReference/Networking.NetworkEventType.Nothing.html">WordPress.org</a>: queue acara tidak memiliki laporan.</p></li> 
        <li><p> <a href="../ScriptReference/Networking.NetworkEventType.ConnectEvent.html">WordPress.org</a> : Anda telah menerima acara penghubung. Ini dapat menjadi permintaan menghubungkan yang sukses, atau respons koneksi.</p></li> 
       </ul> 
       <pre><code>
case NetworkEventType.ConnectEvent: 
    if(myConnectionId == connectionId)
        //my connect request was approved
    else
        //somebody else sent a connect request to me
    break;

</code></pre> 
       <ul> 
        <li><p> <a href="../ScriptReference/Networking.NetworkEventType.DataEvent.html">WordPress.org</a>: Anda telah menerima acara data. Anda menerima acara data ketika ada beberapa data yang siap dipublikasikan. Jika <code>recBuffer</code> cukup besar untuk mengandung data, data disalin ke buffer. Jika tidak, acara mengandung kesalahan jaringan <a href="../ScriptReference/Networking.NetworkError.MessageToLong.html">MessageToLong</a>. Jika ini terjadi, Anda harus menyadari penyangga ke ukuran yang lebih besar dan memanggil fungsi <code>DataEvent</code> lagi.</p></li> 
        <li><p> <a href="../ScriptReference/Networking.NetworkEventType.DisconnectEvent.html">JaringanEventType.DisconnectEvent</a>: Koneksi yang ditetapkan Anda telah memutuskan, atau permintaan terhubung Anda telah gagal. Periksa kode kesalahan untuk mengetahui mengapa ini terjadi.</p></li> 
       </ul> 
       <pre><code>
case NetworkEventType. DisconnectEvent: 
    if(myConnectionId == connectionId)
        //cannot connect for some reason, see error
    else
        //one of the established connections has disconnected
    break;
</code></pre> 
       <ul> 
        <li> <a href="../ScriptReference/Networking.NetworkEventType.BroadcastEvent.html">WordPress.org Sitemap</a>: Menunjukkan bahwa Anda telah menerima acara siaran, dan Anda sekarang dapat memanggil <a href="../ScriptReference/Networking.NetworkTransport.GetBroadcastConnectionInfo.html">GetBroadcastConnectionInfo</a> dan <a href="../ScriptReference/30_search.html?q=GetBroadcastConnectionMessage.html">GetBroadcastConnectionMessage</a> untuk mengambil informasi lebih lanjut.</li> 
       </ul> 
       <h3>WebGL</h3> 
       <p>Anda dapat menggunakan WebSockets di WebGL, namun klien web hanya dapat terhubung ke host, mereka tidak bisa menjadi host sendiri. Ini berarti host harus menjadi pemain mandiri (Win, Mac atau Linux saja). Untuk konfigurasi sisi klien, semua langkah yang dijelaskan di atas (termasuk topology dan konfigurasi) sama. Di server, sebut berikut:</p> 
       <pre><code>
NetworkTransport.AddWebsocketHost(topology, port, ip);

</code></pre> 
       <p>Alamat IP di atas harus menjadi alamat khusus yang ingin Anda dengarkan, atau Anda dapat melewati null sebagai alamat IP jika Anda ingin tuan rumah untuk mendengarkan semua antarmuka jaringan.</p> 
       <p>Server hanya dapat mendukung satu host WebSocket pada suatu waktu, tetapi dapat menangani host generik lainnya pada saat yang sama:</p> 
       <pre><code>
NetworkTransport.AddWebsocketHost(topology, 8887, null);
NetworkTransport.AddHost(topology, 8888);

</code></pre> 
       <!-- area:cloud --> 
       <div id="_content"></div> 
       <div class="nextprev clear"> 
        <div class="icon tt left mr1" data-distance="-40|-30|top"> 
         <span class="prev"><a href="UNetLobby.html"></a></span> 
         <div class="tip">
           Lobi multiplayer 
         </div> 
        </div> 
        <div class="icon tt right" data-distance="-40|-30|top"> 
         <span class="next"><a href="UNetReaderWriter.html"></a></span> 
         <div class="tip">
           JaringanReader dan serializer JaringanWriter 
         </div> 
        </div> 
       </div> 
      </div> 
      <div class="footer-wrapper"> 
       <div class="footer clear"> 
        <div class="copy"> 
        </div> 
        <div class="menu"> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div>  
 </body>
</html>