<!doctype html>
<html lang="en" class="no-js">
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> 
  <script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script> 
  <script type="text/javascript">
					function OptanonWrapper() { }
				</script> 
  <script>var offline=false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-K8K24X8');}</script> 
  <link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet"> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Unity - Manual: Platform Windows Universal: Plugin pada IL2CPP Scripting Backend</title> 
  <meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg"> 
  <meta name="author" content="Unity Technologies"> 
  <link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico"> 
  <link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png"> 
  <link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png"> 
  <meta name="msapplication-TileColor" content="#222c37"> 
  <meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png"> 
  <script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script> 
  <script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20220404"></script> 
  <script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20220404"></script> 
  <script type="text/javascript" src="docdata/toc.js?ts=20220404"></script> 
  <script type="text/javascript" src="docdata/global_toc.js?ts=20220404"></script> 
  <link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20220404"> 
  <link rel="stylesheet" href="../StaticFilesManual/css/prism.css"> 
  <script src="../StaticFilesManual/js/prism.js"></script> 
  <script src="/StaticFilesConfig/feedback/feedback.js"></script> 
  <script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script> 
  <link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css"> 
  <script src="../StaticFilesManual/js/mobileoptimisation.js"></script> 
 </head> 
 <body> 
  <noscript> 
   <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8K24X8" height="0" width="0" style="display:none;visibility:hidden"></iframe> 
  </noscript> 
  <div id="DocsAnalyticsData" data-area="platforms" data-pagetype="manual"></div> 
  <div class="header-wrapper"> 
   <div id="header" class="header"> 
    <div class="content"> 
     <div class="spacer"> 
      <div class="menu"> 
       <div id="nav-open" for="nav-input"> 
        <span></span> 
       </div> 
       <div class="logo"></div> 
       <div class="search-form"> 
        <form action="30_search.html" method="get" class="apisearch"> 
         <input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"> 
         <input type="submit" class="submit"> 
        </form> 
       </div> 
       <ul> 
        <li><a href="../Manual/index.html" class="selected">Manual</a></li> 
        <li><a href="../ScriptReference/index.html">API documentation</a></li> 
       </ul> 
      </div> 
     </div> 
     <div class="more"> 
      <div class="filler"></div> 
      <ul> 
       <li></li> 
      </ul> 
     </div> 
    </div> 
   </div> 
   <div class="toolbar"> 
    <div class="content"> 
    </div> 
   </div> 
   <div class="mobileLogo"></div> 
  </div> 
  <div id="master-wrapper" class="master-wrapper clear"> 
   <div id="sidebar" class="sidebar"> 
    <div class="sidebar-wrap"> 
     <div class="content"> 
      <div class="sidebar-menu"> 
       <div class="toc" id="customScrollbar"> 
        <h2>Manual Unity</h2> 
        <div class="search-form sidebar-search-form"> 
         <form action="30_search.html" method="get" class="apisearch"> 
          <input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"> 
          <input type="submit" id="mobileSearchBtn" class="submit" value="Search"> 
         </form> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div id="content-wrap" class="content-wrap"> 
    <div class="content-block"> 
     <div class="content"> 
      <div class="section"> 
       <div class="breadcrumbs clear"> 
        <ul> 
         <li><a href="UnityManual.html">Unity User Manual 2022.1 (beta)</a></li> 
         <li><a href="PlatformSpecific.html">Pengembangan platform</a></li> 
         <li><a href="WindowsStore.html">Windows Server</a></li> 
         <li><a href="windowsstore-il2cpp.html">Platform Windows Universal: IL2CPP scripting kembali akhir</a></li> 
         <li>Platform Windows Universal: Plugin pada Scripting IL2CPP</li> 
        </ul> 
       </div> 
       <div class="mb20"> 
        <div class="nextprev clear"> 
         <div class="icon tt left mr1" data-distance="-40|-30|top"> 
          <span class="prev"><a href="windowsstore-generatedproject-il2cpp.html"></a></span> 
          <div class="tip">
            Platform Windows Universal: Proyek Generasi dengan backend IL2CPP 
          </div> 
         </div> 
         <div class="icon tt right" data-distance="-40|-30|top"> 
          <span class="next"><a href="windowsstore-debugging-il2cpp.html"></a></span> 
          <div class="tip">
            Platform Windows Universal: Debugging pada Scripting IL2CPP 
          </div> 
         </div> 
        </div> 
       </div> 
       <div id="_leavefeedback"></div> 
       <h1>Platform Windows Universal: Plugin pada Scripting IL2CPP</h1> 
       <!--BeginSwitchLink--> 
       <!--EndSwitchLink--> 
       <div class="clear"></div> 
       <p>Model plugin untuk <span class="tooltip"><strong>Universal Windows Platform</strong><span class="tooltiptext">Fitur IAP yang mendukung simulator Pembelian Aplikasi Microsoft, yang memungkinkan Anda untuk menguji aliran pembelian IAP pada perangkat sebelum menerbitkan aplikasi Anda. <a class="tooltipMoreInfoLink" href="UnityIAPUniversalWindows.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#UniversalWindowsPlatform">Glossary</a></span></span></span> mirip dengan platform Unity lainnya (seperti Windows standalone).</p> 
       <h2>WordPress.org</h2> 
       <p>Secara default, target <span class="tooltip"><strong>IL2CPP</strong><span class="tooltiptext">Back-end scripting bersatu yang dapat Anda gunakan sebagai alternatif untuk Mono ketika proyek bangunan untuk beberapa platform. <a class="tooltipMoreInfoLink" href="IL2CPP.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#IL2CPP">Glossary</a></span></span></span> .NET 2.0 API compatiblity level. Itu berarti tidak mendukung plugin yang dikelola menargetkan. NET 4.5 atau mengkonsumsi API Windows Runtime. Semua plugin yang dikelola harus ditargetkan. NET 4.5 atau API setara saat menggunakan level compatiblity ini. Anda dapat beralih ke . NET 4.6 API compatibilty level dalam pengaturan <strong>Player</strong> jika Anda ingin mengangkat pembatasan ini.</p> 
       <p>IL2CPP <span class="tooltip"><strong>scripting backend</strong><span class="tooltiptext">Kerangka kerja yang skrip di Unity. Unity mendukung tiga backend scripting yang berbeda tergantung pada platform target: Mono, .NET dan IL2CPP. Platform Windows Universal, namun hanya mendukung dua: .NET dan IL2CPP. <a class="tooltipMoreInfoLink" href="windowsstore-il2cpp.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#ScriptingBackend">Glossary</a></span></span></span> mengekspos sama persis. Permukaan API NET sebagai editor Unity atau pemain mandiri, sehingga dimungkinkan untuk menggunakan plugin yang sama tanpa perlu untuk menyusun versi terpisah yang menargetkan berbeda. API NET untuk Platform Windows Universal.</p> 
       <h2>WordPress.org</h2> 
       <p>Dukungan backend scripting IL2CPP menggunakan plugin asli melalui mekanisme P / Invoke. Ini berarti bahwa Anda dapat memanggil plugin asli langsung dari kode C # Anda dengan menentukan prototipe fungsi asli dan kemudian memanggilnya. Contoh:</p> 
       <pre><code>[DllImport("MyPlugin.dll")]
private static extern int CountLettersInString([MarshalAs(UnmanagedType.LPWSTR)]string str);

private void Start()
{
    Debug.Log(CountLettersInString("Hello, native plugin!"));
}
</code></pre> 
       <p>Implementasi fungsi tersebut di dalam MyPlugin.dll akan terlihat seperti ini:</p> 
       <pre><code>extern "C" __declspec(dllexport)
int __stdcall CountLettersInString(wchar_t* str)
{
    int length = 0;
    while (*str++ != nullptr)
        length++;
    return length;
}
</code></pre> 
       <p>P/Invoke marshaling aturan pertandingan yang pejabat. marshaling NET, dengan pengecualian beberapa jenis yang tidak didukung:</p> 
       <ul> 
        <li>AnsiBStr</li> 
        <li>Currency</li> 
        <li>SAFEARRAY</li> 
        <li>IDispatch</li> 
        <li>TBStr</li> 
        <li>VBByRefStr</li> 
       </ul> 
       <p>Konvensi panggilan default untuk fungsi P / Invoke pada x86 adalah <code>__stdcall</code>.</p> 
       <p>Plugin asli dapat diucapkan dalam dua cara: kode sumber DLL atau C++.</p> 
       <h3>WordPress.org</h3> 
       <p>P / Menjelajahi plugin asli yang telah disiapkan bekerja dengan memuat DLL pada runtime, menemukan titik entri fungsi dan kemudian memanggilnya. DLLs ini harus disusun terhadap SDK Windows yang sesuai untuk arsitektur CPU target. DLLs juga harus dikonfigurasi dalam Plugin <span class="tooltip"><strong>Inspector</strong><span class="tooltiptext">Jendela Unity yang menampilkan informasi tentang Pengaturan GameObject yang dipilih saat ini, aset atau proyek, memungkinkan Anda untuk memeriksa dan mengedit nilai. <a class="tooltipMoreInfoLink" href="UsingTheInspector.html">More info</a><br><span class="tooltipGlossaryLink">Lihat di <a href="Glossary.html#Inspector">Glossary</a></span></span></span> ketika ditambahkan ke proyek Unity.</p> 
       <h3>C++ kode sumber plugin asli</h3> 
       <p>Mungkin untuk menambahkan file kode C++ (.cpp) langsung ke proyek Unity, yang akan bertindak sebagai plugin di Plugin Inspector. Jika dikonfigurasi kompatibel dengan Platform Windows Universal dan backend IL2CPP, file C++ ini akan disusun bersama dengan kode C++ yang dihasilkan dari rakitan yang dikelola:</p> 
       <figure> 
        <img src="https://docs.unity3d.com/2022.1/Documentation/uploads/Main/NativeFunctions.png" alt=""> 
       </figure> 
       <p>Karena fungsi terkait dengan kode C++ yang dihasilkan, tidak ada DLL yang terpisah ke P/Invoke. Karena ini, dimungkinkan untuk menggunakan kata kunci "__ internal" di tempat nama DLL, yang akan membuatnya C++ Tanggung jawab untuk menyelesaikan fungsi, daripada memuatnya di runtime:</p> 
       <pre><code>[DllImport("__Internal")]
private static extern int CountLettersInString([MarshalAs(UnmanagedType.LPWSTR)]string str);
</code></pre> 
       <p>Karena panggilan diselesaikan oleh penghubung, membuat kesalahan dalam deklarasi fungsi di sisi yang dikelola akan menghasilkan kesalahan penghubung, bukan kesalahan pada runtime. Ini juga berarti bahwa tidak ada kebutuhan pemuatan dinamis untuk terjadi pada runtime, dan fungsi disebut secara langsung. Ini secara signifikan mengurangi overhead panggilan P/Invoke.</p> 
       <h3>Batasan P / Invoke</h3> 
       <p>Di Universal Windows Platform Anda tidak dapat membayangkan ke perpustakaan sistem tertentu dengan menentukan nama dll (seperti "kernelbase.dll") ketika menggunakan backend scripting IL2CPP. Meninggalkan P/Meningkatkan ke DLL yang ada di luar proyek akan mengakibatkan DllNotFoundException pada runtime.</p> 
       <p>Namun, itu masih mungkin untuk P/Invoke ke fungsi sistem ini dengan menentukan kata kunci "** internal" bukan nama DLL, yang menghasilkan tautan menyelesaikan fungsi dalam membangun waktu.</p> 
       <h2>See also</h2> 
       <p><a href="PluginInspector.html" title="Plugin Inspector">Plugin Inspector</a></p> 
       <hr> 
       <ul> 
        <li> <span class="page-edit">• 2018–08–03 Login</span><br> </li> 
        <li><span class="page-history">.NET 3.5 scripting runtime di 2018. Sitemap</span></li> 
       </ul> 
       <!-- area:platforms --> 
       <div id="_content"></div> 
       <div class="nextprev clear"> 
        <div class="icon tt left mr1" data-distance="-40|-30|top"> 
         <span class="prev"><a href="windowsstore-generatedproject-il2cpp.html"></a></span> 
         <div class="tip">
           Platform Windows Universal: Proyek Generasi dengan backend IL2CPP 
         </div> 
        </div> 
        <div class="icon tt right" data-distance="-40|-30|top"> 
         <span class="next"><a href="windowsstore-debugging-il2cpp.html"></a></span> 
         <div class="tip">
           Platform Windows Universal: Debugging pada Scripting IL2CPP 
         </div> 
        </div> 
       </div> 
      </div> 
      <div class="footer-wrapper"> 
       <div class="footer clear"> 
        <div class="copy">
          © 2022 Unity Technologies. Tanggal Publikasi: 2022-04-04. 
        </div> 
        <div class="menu"> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div>  
 </body>
</html>